<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Cocinero - Buen Gusto</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5ebd2;
            color: #503214;
            line-height: 1.5;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(200, 30, 45, 0.1);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: #c81e2d;
            color: white;
            padding: 24px 32px;
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .header-icon {
            width: 48px;
            height: 48px;
            background: #503214;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .header-info h1 {
            font-size: 1.5rem;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .header-info p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .header-stats {
            margin-left: auto;
            text-align: right;
            background: rgba(80, 50, 20, 0.2);
            padding: 16px 20px;
            border-radius: 4px;
        }

        .header-stats p:first-child {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 4px;
        }

        .header-stats p:last-child {
            font-size: 2rem;
            font-weight: 700;
        }

        /* Layout principal */
        .main-content {
            padding: 24px;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
        }

        /* Secci√≥n de pedidos */
        .pedidos-section h2 {
            font-size: 1.25rem;
            color: #503214;
            margin-bottom: 20px;
            font-weight: 600;
            padding-bottom: 8px;
            border-bottom: 2px solid #f5ebd2;
        }

        .pedido-card {
            background: white;
            border: 1px solid #e5e5e5;
            border-left: 3px solid #c81e2d;
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .pedido-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }

        .pedido-info h3 {
            font-size: 1.1rem;
            color: #503214;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .pedido-info p {
            color: #666;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .pedido-info .direccion {
            font-size: 0.85rem;
            color: #888;
        }

        /* Estados */
        .estado-badge {
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .estado-confirmado {
            background: #c81e2d;
            color: white;
        }

        .estado-preparacion {
            background: #f97316;
            color: white;
        }

        .estado-listo {
            background: #16a34a;
            color: white;
        }

        .tipo-pedido {
            font-size: 0.8rem;
            color: #503214;
            font-weight: 500;
            background: #f5ebd2;
            padding: 4px 8px;
            border-radius: 4px;
        }

        /* Items del pedido */
        .pedido-items {
            margin-bottom: 16px;
        }

        .pedido-items h4 {
            color: #503214;
            margin-bottom: 12px;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 8px;
            border-left: 2px solid #c81e2d;
        }

        .item-nombre {
            font-weight: 600;
            color: #503214;
            margin-bottom: 4px;
        }

        .item-condimentos {
            font-size: 0.85rem;
            color: #666;
        }

        /* Tiempo */
        .tiempo-info {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            font-size: 0.85rem;
            color: #666;
            flex-wrap: wrap;
        }

        .tiempo-item {
            display: flex;
            align-items: center;
            gap: 4px;
            background: #f5ebd2;
            padding: 6px 10px;
            border-radius: 4px;
        }

        /* Botones */
        .acciones {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .btn {
            flex: 1;
            padding: 10px 16px;
            border: none;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
        }

        .btn-iniciar {
            background: #f97316;
            color: white;
        }

        .btn-iniciar:hover {
            background: #ea580c;
        }

        .btn-listo {
            background: #16a34a;
            color: white;
        }

        .btn-listo:hover {
            background: #15803d;
        }

        .select-repartidor {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 0.9rem;
            color: #503214;
            background: white;
        }

        .select-repartidor:focus {
            outline: none;
            border-color: #c81e2d;
        }

        /* Total */
        .pedido-total {
            padding: 12px;
            background: #f5ebd2;
            border-radius: 4px;
            text-align: right;
            border: 1px solid #c81e2d;
        }

        .pedido-total p {
            font-size: 1.1rem;
            font-weight: 600;
            color: #503214;
        }

        /* Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sidebar-card {
            background: white;
            border: 1px solid #e5e5e5;
            border-radius: 4px;
            padding: 20px;
        }

        .sidebar-card h3 {
            font-size: 1rem;
            color: #503214;
            margin-bottom: 16px;
            font-weight: 600;
            padding-bottom: 8px;
            border-bottom: 1px solid #f0f0f0;
        }

        /* Repartidores */
        .repartidor {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .repartidor-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-disponible {
            background: #16a34a;
        }

        .status-ocupado {
            background: #dc2626;
        }

        .repartidor-nombre {
            font-weight: 500;
            color: #503214;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-disponible {
            background: #dcfce7;
            color: #16a34a;
        }

        .badge-ocupado {
            background: #fee2e2;
            color: #dc2626;
        }

        /* Rese√±as */
        .resena {
            padding: 12px;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 2px solid #c81e2d;
        }

        .resena:last-child {
            margin-bottom: 0;
        }

        .resena-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .pedido-numero {
            font-weight: 600;
            color: #503214;
            font-size: 0.9rem;
        }

        .estrellas {
            display: flex;
            gap: 2px;
        }

        .estrella {
            font-size: 14px;
            color: #fbbf24;
        }

        .estrella.vacia {
            color: #d1d5db;
        }

        .resena-comentario {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 4px;
            line-height: 1.4;
        }

        .resena-cliente {
            font-size: 0.8rem;
            color: #888;
        }

        /* Estad√≠sticas */
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 8px 0;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .stat-value {
            font-weight: 600;
            color: #503214;
        }

        /* Notificaciones */
        .notificacion {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #503214;
            color: white;
            padding: 12px 16px;
            border-radius: 4px;
            font-size: 0.9rem;
            z-index: 1000;
            transform: translateX(350px);
            transition: transform 0.3s ease;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
            
            .header-left {
                flex-direction: column;
            }
            
            .header-stats {
                margin-left: 0;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .main-content {
                padding: 16px;
            }
            
            .pedido-header {
                flex-direction: column;
                gap: 12px;
            }
            
            .tiempo-info {
                flex-direction: column;
                gap: 8px;
            }
            
            .acciones {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="header-icon">
                    üë®‚Äçüç≥
                </div>
                <div class="header-info">
                    <h1>Panel de Cocina</h1>
                    <p>Gesti√≥n de pedidos</p>
                </div>
            </div>
            <div class="header-stats">
                <p>Pedidos activos</p>
                <p id="pedidos-count">3</p>
            </div>
        </div>

        <div class="main-content">
            <!-- Layout principal -->
            <div class="main-layout">
                <!-- Columna de pedidos -->
                <div class="pedidos-section">
                    <h2>Cola de Pedidos</h2>
                    <div id="pedidos-container">
                        <!-- Los pedidos se generar√°n din√°micamente -->
                    </div>
                </div>

                <!-- Sidebar -->
                <div class="sidebar">
                    <!-- Repartidores disponibles -->
                    <div class="sidebar-card">
                        <h3>Repartidores</h3>
                        <div id="repartidores-container">
                            <!-- Los repartidores se generar√°n din√°micamente -->
                        </div>
                    </div>

                    <!-- Rese√±as recientes -->
                    <div class="sidebar-card">
                        <h3>Rese√±as Recientes</h3>
                        <div id="resenas-container">
                            <!-- Las rese√±as se generar√°n din√°micamente -->
                        </div>
                    </div>

                    <!-- Estad√≠sticas del d√≠a -->
                    <div class="sidebar-card">
                        <h3>Estad√≠sticas del D√≠a</h3>
                        <div class="stat-item">
                            <span class="stat-label">Pedidos completados:</span>
                            <span class="stat-value">12</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Tiempo promedio:</span>
                            <span class="stat-value">28 min</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Calificaci√≥n promedio:</span>
                            <span class="stat-value">4.8 ‚≠ê</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Eficiencia del d√≠a:</span>
                            <span class="stat-value">95%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos de ejemplo
        let pedidosActivos = [
            {
                id: 1,
                numero: 'BG-001',
                cliente: 'Juan P√©rez',
                telefono: '+54 9 11 1234-5678',
                direccion: 'Av. Corrientes 1234',
                items: [
                    { nombre: 'Hamburguesa Completa', cantidad: 2, condimentos: ['Ketchup', 'Mayonesa'] },
                    { nombre: 'Papas Fritas', cantidad: 1, condimentos: ['Sal'] }
                ],
                estado: 'confirmado',
                tipo: 'inmediato',
                tiempoEstimado: 25,
                horaIngreso: '14:30',
                total: 5200
            },
            {
                id: 2,
                numero: 'BG-002',
                cliente: 'Mar√≠a Gonz√°lez',
                telefono: '+54 9 11 9876-5432',
                direccion: 'San Mart√≠n 567',
                items: [
                    { nombre: '√ëoquis con Salsa', cantidad: 1, condimentos: ['Queso', 'Or√©gano'] },
                    { nombre: 'Flan Casero', cantidad: 2, condimentos: [] }
                ],
                estado: 'en_preparacion',
                tipo: 'programado',
                tiempoEstimado: 30,
                horaIngreso: '14:15',
                tiempoPreparacion: 15,
                total: 4600
            },
            {
                id: 3,
                numero: 'BG-003',
                cliente: 'Carlos L√≥pez',
                telefono: '+54 9 11 5555-1234',
                direccion: 'Belgrano 890',
                items: [
                    { nombre: 'Locro Criollo', cantidad: 1, condimentos: ['Aj√≠ picante'] }
                ],
                estado: 'listo',
                tipo: 'inmediato',
                tiempoEstimado: 35,
                horaIngreso: '14:00',
                tiempoPreparacion: 32,
                total: 3500
            }
        ];

        const repartidoresDisponibles = [
            { id: 5, nombre: 'Carlos L√≥pez', disponible: true },
            { id: 6, nombre: 'Ana Mart√≠nez', disponible: false },
            { id: 7, nombre: 'Pedro Rodr√≠guez', disponible: true },
            { id: 8, nombre: 'Laura Garc√≠a', disponible: true }
        ];

        const rese√±asRecientes = [
            {
                id: 1,
                pedido: 'BG-001',
                cliente: 'Juan P√©rez',
                calificacionComida: 5,
                comentario: 'Excelente hamburguesa, muy sabrosa',
                fecha: '2024-09-03 13:45'
            },
            {
                id: 2,
                pedido: 'BG-002',
                cliente: 'Mar√≠a Gonz√°lez',
                calificacionComida: 4,
                comentario: 'Los √±oquis estaban deliciosos',
                fecha: '2024-09-03 13:30'
            },
            {
                id: 3,
                pedido: 'BG-003',
                cliente: 'Carlos L√≥pez',
                calificacionComida: 5,
                comentario: 'El locro estaba perfecto',
                fecha: '2024-09-03 13:15'
            }
        ];

        // Funciones auxiliares
        function getEstadoClass(estado) {
            switch (estado) {
                case 'confirmado': return 'estado-confirmado';
                case 'en_preparacion': return 'estado-preparacion';
                case 'listo': return 'estado-listo';
                default: return 'estado-confirmado';
            }
        }

        function getEstadoTexto(estado) {
            switch (estado) {
                case 'confirmado': return 'Confirmado';
                case 'en_preparacion': return 'En Preparaci√≥n';
                case 'listo': return 'Listo';
                default: return estado;
            }
        }

        function formatearTiempo(minutos) {
            const horas = Math.floor(minutos / 60);
            const mins = minutos % 60;
            return horas > 0 ? `${horas}h ${mins}m` : `${mins}m`;
        }

        function generarEstrellas(calificacion) {
            let estrellasHtml = '';
            for (let i = 1; i <= 5; i++) {
                const clase = i <= calificacion ? 'estrella' : 'estrella vacia';
                estrellasHtml += `<span class="${clase}">‚òÖ</span>`;
            }
            return estrellasHtml;
        }

        function mostrarNotificacion(mensaje) {
            const notificacion = document.createElement('div');
            notificacion.className = 'notificacion';
            notificacion.textContent = mensaje;
            
            document.body.appendChild(notificacion);
            
            setTimeout(() => {
                notificacion.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notificacion.style.transform = 'translateX(350px)';
                setTimeout(() => {
                    if (document.body.contains(notificacion)) {
                        document.body.removeChild(notificacion);
                    }
                }, 300);
            }, 3000);
        }

        // Funciones de cambio de estado
        function cambiarEstadoPedido(pedidoId, nuevoEstado) {
            const pedido = pedidosActivos.find(p => p.id === pedidoId);
            if (pedido) {
                pedido.estado = nuevoEstado;
                
                if (nuevoEstado === 'listo') {
                    const ahora = new Date();
                    const tiempoActual = ahora.getHours() * 60 + ahora.getMinutes();
                    const [hora, minuto] = pedido.horaIngreso.split(':').map(Number);
                    const tiempoIngreso = hora * 60 + minuto;
                    const tiempoTranscurrido = tiempoActual - tiempoIngreso;
                    pedido.tiempoPreparacion = tiempoTranscurrido;
                }
                
                renderPedidos();
                mostrarNotificacion(`Pedido #${pedido.numero} actualizado`);
            }
        }

        function asignarRepartidor(pedidoId, repartidorId) {
            const repartidor = repartidoresDisponibles.find(r => r.id === parseInt(repartidorId));
            if (repartidor) {
                mostrarNotificacion(`Pedido asignado a ${repartidor.nombre}`);
                repartidor.disponible = false;
                renderRepartidores();
            }
        }

        // Funciones de renderizado
        function renderPedidos() {
            const container = document.getElementById('pedidos-container');
            container.innerHTML = '';

            pedidosActivos.forEach(pedido => {
                const pedidoHtml = `
                    <div class="pedido-card">
                        <div class="pedido-header">
                            <div class="pedido-info">
                                <h3>#${pedido.numero}</h3>
                                <p>${pedido.cliente} ‚Ä¢ ${pedido.telefono}</p>
                                <p class="direccion">${pedido.direccion}</p>
                            </div>
                            <div>
                                <div class="estado-badge ${getEstadoClass(pedido.estado)}">
                                    ${getEstadoTexto(pedido.estado)}
                                </div>
                                <div class="tipo-pedido">
                                    ${pedido.tipo === 'inmediato' ? 'Inmediato' : 'Programado'}
                                </div>
                            </div>
                        </div>

                        <div class="pedido-items">
                            <h4>Productos:</h4>
                            ${pedido.items.map(item => `
                                <div class="item">
                                    <div class="item-nombre">${item.cantidad}x ${item.nombre}</div>
                                    ${item.condimentos.length > 0 ? 
                                        `<div class="item-condimentos">Condimentos: ${item.condimentos.join(', ')}</div>` 
                                        : ''}
                                </div>
                            `).join('')}
                        </div>

                        <div class="tiempo-info">
                            <div class="tiempo-item">
                                <span>üïê</span>
                                <span>Ingres√≥: ${pedido.horaIngreso}</span>
                            </div>
                            <div class="tiempo-item">
                                <span>‚è±Ô∏è</span>
                                <span>Estimado: ${formatearTiempo(pedido.tiempoEstimado)}</span>
                            </div>
                            ${pedido.tiempoPreparacion ? `
                                <div class="tiempo-item">
                                    <span>‚úÖ</span>
                                    <span>Preparado: ${formatearTiempo(pedido.tiempoPreparacion)}</span>
                                </div>
                            ` : ''}
                        </div>

                        <div class="acciones">
                            ${pedido.estado === 'confirmado' ? `
                                <button class="btn btn-iniciar" onclick="cambiarEstadoPedido(${pedido.id}, 'en_preparacion')">
                                    Iniciar Preparaci√≥n
                                </button>
                            ` : ''}
                            
                            ${pedido.estado === 'en_preparacion' ? `
                                <button class="btn btn-listo" onclick="cambiarEstadoPedido(${pedido.id}, 'listo')">
                                    Marcar Listo
                                </button>
                            ` : ''}

                            ${pedido.estado === 'listo' ? `
                                <select class="select-repartidor" onchange="if(this.value) asignarRepartidor(${pedido.id}, this.value)">
                                    <option value="">Asignar repartidor</option>
                                    ${repartidoresDisponibles
                                        .filter(r => r.disponible)
                                        .map(r => `<option value="${r.id}">${r.nombre}</option>`)
                                        .join('')}
                                </select>
                            ` : ''}
                        </div>

                        <div class="pedido-total">
                            <p>Total: $${pedido.total.toLocaleString()}</p>
                        </div>
                    </div>
                `;
                container.innerHTML += pedidoHtml;
            });
        }

        function renderRepartidores() {
            const container = document.getElementById('repartidores-container');
            container.innerHTML = '';

            repartidoresDisponibles.forEach(repartidor => {
                const repartidorHtml = `
                    <div class="repartidor">
                        <div class="repartidor-info">
                            <div class="status-dot ${repartidor.disponible ? 'status-disponible' : 'status-ocupado'}"></div>
                            <span class="repartidor-nombre">${repartidor.nombre}</span>
                        </div>
                        <span class="status-badge ${repartidor.disponible ? 'badge-disponible' : 'badge-ocupado'}">
                            ${repartidor.disponible ? 'Disponible' : 'Ocupado'}
                        </span>
                    </div>
                `;
                container.innerHTML += repartidorHtml;
            });
        }

        function renderResenas() {
            const container = document.getElementById('resenas-container');
            container.innerHTML = '';

            rese√±asRecientes.forEach(resena => {
                const resenaHtml = `
                    <div class="resena">
                        <div class="resena-header">
                            <span class="pedido-numero">#${resena.pedido}</span>
                            <div class="estrellas">
                                ${generarEstrellas(resena.calificacionComida)}
                            </div>
                        </div>
                        <p class="resena-comentario">${resena.comentario}</p>
                        <p class="resena-cliente">${resena.cliente}</p>
                    </div>
                `;
                container.innerHTML += resenaHtml;
            });
        }

        function updatePedidosCount() {
            document.getElementById('pedidos-count').textContent = pedidosActivos.length;
        }

        // Inicializar la aplicaci√≥n
        function init() {
            renderPedidos();
            renderRepartidores();
            renderResenas();
            updatePedidosCount();
        }

        // Ejecutar cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>